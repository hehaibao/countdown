/*
* Zepto/jQuery 倒计时插件
* by haibao[http://www.hehaibao.com/]
*/
(function(c){c.fn.countdown=function(b){function d(){this.$element=null;this.$childEl=b&&b.child||".countdown-box";this.txt=b&&b.txt||"";this.sp=b&&b.sp||":";this.isZh=b&&b.isZh||!1;this.dateValue=this.tpl="";this.timer=null}d.prototype={init:function(a){this.$element=a;if(this.dateValue=c(a).data("countdown"))this.dateValue=this.dateValue.replace(/-/g,"/"),this.dateValue=Math.round((new Date(this.dateValue)).getTime()/1E3),this.start()},start:function(){var a=this.dateValue-Math.round((new Date).getTime()/
    1E3),e=parseInt(a/86400),c=parseInt(a%86400/3600),d=parseInt(a%86400%3600/60),f=parseInt(a%86400%3600%60),g=this.$element.find(this.$childEl);0>=a?(this.tpl="\u6d3b\u52a8\u5df2\u7ed3\u675f",this.dateValue="",this.$element.data("countdown",""),b&&b.callback&&"[object Function]"===Array.prototype.toString.call(b.callback)&&b.callback(this.$element)):this.tpl=this.isZh?this.txt+'<span class="d">'+this.format(e)+'</span>\u5929<span class="h">'+this.format(c)+'</span>\u65f6<span class="m">'+this.format(d)+
    '</span>\u5206<span class="s">'+this.format(f)+"</span>\u79d2":this.txt+'<span class="d">'+this.format(e)+"</span>"+this.sp+'<span class="h">'+this.format(c)+"</span>"+this.sp+'<span class="m">'+this.format(d)+"</span>"+this.sp+'<span class="s">'+this.format(f)+"</span>";g.length?g.html(this.tpl):this.$element.html(this.tpl)},format:function(a){return 9<a?a:"0"+a}};return this.each(function(){var a=new d,b=c(this);a.init(b);a.timer=setInterval(function(){a.init(b)},1E3)})}})(window.jQuery||window.Zepto);